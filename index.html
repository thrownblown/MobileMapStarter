<!DOCTYPE html>
<html>
<head>
    <!-- the phonegap.js stub is helpful for Phonegap Build to enable plugins and features. There is no phonegap.js -->
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <title>MobileMapStarter</title>
    <script src="phonegap.js"></script>

    <!-- jQuery and JQ Mobile -->
    <script type="text/javascript" src="libs/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="libs/jquery.mobile-1.4.0/jquery.mobile-1.4.0.min.js"></script>
    <link rel="stylesheet" type="text/css" href="libs/jquery.mobile-1.4.0/jquery.mobile-1.4.0.css" />

    <!-- Leaflet et al -->
    <link rel="stylesheet" type="text/css" href="libs/leaflet-0.7.2/leaflet.css" />
    <script type="text/javascript" src="libs/leaflet-0.7.2/leaflet-src.js"></script>

    <!-- a caching system for Leaflet L.TileLayer -->
    <script type="text/javascript" src="libs/cache.js"></script>

    <!-- weinre debugging for development; replace with your own IP address and your own weinre server -->
    <!--
    <script src="http://weinre.greeninfo.org:8080/target/target-script-min.js#mobilemapstarter"></script>
    -->

    <!-- our own custom stuff. on device ready, the init() function in index.js will be called to start up everything -->
    <link rel="stylesheet" type="text/css" href="index.css" />
    <script type="text/javascript" src="index.js"></script>
    <script type="text/javascript" src="library.js"></script>
    <script type="text/javascript">
    if ( is_cordova() ) {
        document.addEventListener("deviceready", init, false);
    } else {
        $(document).ready(init);
    }
    </script>
</head>
<body>


<div data-role="page" id="page-welcome">
    <div data-role="header">
        <h1>Welcome</h1>
        <a href="#page-map" data-icon="home" data-role="button">OK</a>
    </div>
    <div data-role="content">
<PRE>
<B>WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW</B>
<B>WWWBWWBWWBWWBWWBW'</B>.<B>4mWWBWWBWWBWWBWWBW</B>
<B>WWmWBWmWmWBWmWmW</B> .:<B>]WWmWWmWBWmWmWBWmW</B>
<B>WWWWBWWWWWBWWWWr</B> <B>]6WWmWWmWWWmWWWWWmWW</B>
<B>WBBWmWmWmWBWmWL`</B> <B>WWWBWWBWWmWWWmWmWWWB</B>
<B>WWWBWWWmPWWBWW[</B>..<B>WWmWWmWWB4WBWWWWBWmW</B>
<B>WWmWWmWWWJmWWmW[</B> <B>4WWWmWWB6WWWmWmWBWWW</B>
<B>WWWBWWBWmW74WWm[</B> .<B>`]WWWPLWWmWWWWBWBWm</B>
<B>WBBWBWBWWmW</B> <B>4WWW</B>p :<B>]WmW</B>j<B>mWBWWmWmWWBWW</B>
<B>WWWBWBWBWWBW</B>p<B>4BWB6WWWP</B>j<B>jWBWBWWBWWmWWm</B>
<B>WWmWWP[</B>    <B>]W</B>p<B>]WBWWm[</B>)<B>jQ</B> .  <B>]WBWBWWmW</B>
<B>WWWBWmPa</B>p <B>ajW[</B>j<B>WWBWW'jQW</B> .q:<B>]mWWBWBWW</B>
<B>WBBWBWWk[</B> <B>WWWW</B>pJ<B>WBW'yyWU</B> :<B>"</B>:j<B>WWBWBWBW</B>
<B>WWWBWWmW[</B> <B>WWmWBa"D</B>'<B>jjWWL</B>:...<B>]WWWmWWBW</B>
<B>WWmWWmWk[</B> <B>WWWWBWa']jQWWW</B> .q:J<B>QBWWWmWW</B>
<B>WWWBWWWm[</B>.<B>WBBWmW'7?WWWBW</B> .<B>j</B>..<B>WWBBWWBW</B>
<B>WBBWBBWW[</B> <B>WWWBW'Jm</B>pJ<B>WWBW</B> ...j<B>QWBWBWBW</B>
<B>WWWBWWmW[</B> <B>WWmW'JBWW[</B>J<B>WWB</B> ..j<B>yWBWBWBWB</B>
<B>WWmWWmWWWWWmW[)$WBWB']WWWWWWWWBWWBWBW</B>
<B>WWWBWWWmWmWWP\</B>j<B>WmWWW674WmWWBWmWBWmWWB</B>
<B>WBBWBWmWWWBP'aWWWWmWB6</B>p<B>4WWmWWWWBWWWmW</B>
<B>WWWBWBWWmWPaWWWmWBWWBWB</B>g<B>4WWWmWmWWmWWW</B>
<B>WWmWWBWmWW</B>j<B>WmWmWWWmWWBWW</B>p<B>WWmWWWWmWWmW</B>
<B>WWWBWBWWW</B>g<B>QWWWWWmWWWmWWWW/QWWmWmWWBWW</B>
<B>WBBWBWBPjQ]WmW[[W</B>J<B>WmW]m</B>J<B>WWgVWWBWWBWBW</B>
<B>WWWBWBWWWW6W6j6amjQWWamjQWBWBWBWBWBWW</B>
<B>WWmWWBWBWWBWBWWWWWWBBmWWWWBWWmWWBWWmW</B>
<B>WWWBWBWBWmWWBWWmWBWWWWWWBWBWmWWmWBWWW</B>
</PRE>
        <p><a href="#page-map">OK, Continue</a></p>
    </div>
</div>


<div data-role="page" id="page-settings">
    <div data-role="header">
        <a href="#page-map" data-icon="home" data-role="button">Back</a>
        <h1>Settings</h1>
    </div>
    <div data-role="content">

        <!-- A picker for the basemap. These are contrived to work with the BASEMAPS array. For more info, see selectBasemap() and $('input[type="radio"][name="basemap"]') -->
        <h1>Base Map</h1>
        <div data-role="controlgroup">
        <label><input type="radio" name="basemap" value="Toner" checked="true" /> Toner</label>
        <label><input type="radio" name="basemap" value="Cycle" /> Cycle</label>
<!--         <label><input type="radio" name="basemap" value="terrain" /> Terrain</label>
        <label><input type="radio" name="basemap" value="photo" /> Satellite</label> -->
        <label><input type="checkbox" id="basemap_offline_checkbox" value="1" /> Offline, use cached map data</label>
        </div>

        <h1>Features</h1>
        <div data-role="controlgroup">
        <label><input type="checkbox" name="features" value="gps" checked="true" /> Show GPS location</label>
        <label><input type="checkbox" name="features" value="autocenter" checked="true" /> Auto-center map on movement</label>
        </div>

        <h1>Cache</h1>
        <div data-role="controlgroup">
            <a href="#page-seedcache" data-role="button" data-rel="dialog">Download map tiles</a>
            <a href="#page-cachestatus" data-role="button" data-rel="dialog">Storage Usage</a>
        </div>

    </div>
</div>


<div data-role="page" id="page-map">
    <div data-role="header">
        <a href="#page-settings" data-icon="gear" data-role="button">Settings</a>
        <h1>Map</h1>
        <a href="#page-search" data-icon="search" data-role="button">Search</a>
    </div>
    <div data-role="content">

        <div id="map_canvas"></div>

    </div>
</div>


<div data-role="page" id="page-search">
    <div data-role="header">
        <a href="#page-settings" data-icon="home" data-role="button">Back</a>
        <h1>Search</h1>
    </div>
    <div data-role="content">

    <input type="text" id="geocoder_text" placeholder="City or address" />
    <a href="javascript:void(0);" id="geocoder_button" data-role="button" data-theme="b">Search</a>

    </div>
</div>


<div data-role="page" id="page-seedcache">
    <div data-role="header" data-position="inline">
    <h1>Download Tiles?</h1>
    </div>

    <div data-role="content">
        <p>This will download map tiles within the current map view, so you can use the map without Internet access. This will take a while.</p>
        <a href="javascript:void(0);" name="seedcache" data-role="button" data-rel="back" data-theme="b">Download</a>
        <a href="#page-settings" data-role="button" data-rel="back">Cancel</a>
    </div>
</div>


<div data-role="page" id="page-cachestatus">
    <div data-role="header" data-position="inline">
    <h1>Cache Storage</h1>
    </div>


    <div data-role="content">
        <input type="text" id="cachestatus_storage" value="Calculating" readonly="readonly" style="text-align:center;" />
        <input type="text" id="cachestatus_files" value="Calculating" readonly="readonly" style="text-align:center;" />
        <a href="#page-clearcache" data-role="button" data-rel="dialog">Clear map tiles</a>
        <a href="#page-settings" data-role="button" data-rel="back">Back</a>
    </div>
</div>


<div data-role="page" id="page-clearcache">
    <div data-role="header" data-position="inline">
    <h1>Clear Tiles?</h1>
    </div>

    <div data-role="content">
        <p>This will delete the downloaded map tiles. You will not be able to use the map when offline, until you go online and browse to re-cache the map.</p>
        <a href="javascript:void(0);" name="clearcache" data-role="button" data-rel="back" data-theme="b">Clear cache</a>
        <a href="#page-cachestatus" data-role="button" data-rel="back">Cancel</a>
    </div>
    </div>
</div>


</body>
</html>
